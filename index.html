<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–æ—Ç—ã –ú–µ–Ω–¥–µ–ª–µ–µ–≤–∞ üíï</title>
<style>
* {margin:0;padding:0;box-sizing:border-box}
body {
  height:100vh;
  background:linear-gradient(135deg,#1e3c72 0%,#2a5298 50%,#1e3c72 100%);
  font-family:'Segoe UI',Arial,sans-serif;
  position:relative;
  overflow:hidden;
  cursor:pointer;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.header {
  position:fixed;top:12px;left:50%;transform:translateX(-50%);
  background:rgba(255,255,255,0.1);backdrop-filter:blur(15px);
  padding:10px 24px;border-radius:25px;font-size:16px;font-weight:600;
  color:#fff;box-shadow:0 8px 25px rgba(0,0,0,0.3);z-index:100;
  border:1px solid rgba(255,255,255,0.2);pointer-events:none;
  user-select: none;
}
.header span{color:#ffd700;font-weight:800}

.heart-lock {
  position:fixed;top:20px;right:20px;width:50px;height:50px;
  background:linear-gradient(135deg,#ff69b4,#ff1493);border-radius:50%;
  box-shadow:0 8px 25px rgba(255,105,180,0.4),inset 0 2px 10px rgba(255,255,255,0.2);
  z-index:90;display:flex;align-items:center;justify-content:center;
  font-size:24px;transition:all 0.4s ease;transform:scale(0.9) rotate(-5deg);
  animation:lockFloat 3s ease-in-out infinite;border:2px solid rgba(255,255,255,0.3)
}
.heart-lock.collected{animation:lockGlow 2s infinite}
@keyframes lockFloat{0%,100%{transform:scale(0.9) rotate(-5deg) translateY(0)}50%{transform:scale(1.05) rotate(5deg) translateY(-3px)}}
@keyframes lockGlow{0%,100%{box-shadow:0 8px 25px rgba(255,105,180,0.4),0 0 20px rgba(255,105,180,0.3)}50%{box-shadow:0 12px 35px rgba(255,105,180,0.6),0 0 40px rgba(255,105,180,0.8)}}

.cat {
  position:absolute;width:52px;height:52px;border-radius:50%;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  font-size:18px;font-weight:900;color:#000;
  transition:all 0.4s ease-out;
  cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,0.4);
  backdrop-filter:blur(8px);animation:floatMove 16s infinite linear;
  padding:2px;border:1px solid rgba(255,255,255,0.3);
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.cat span{font-size:12px!important;line-height:1;font-weight:900!important}

@keyframes floatMove {
  0%{transform:translateY(0) rotate(0deg)}
  25%{transform:translateY(-6px) rotate(90deg)}
  50%{transform:translateY(3px) rotate(180deg)}
  75%{transform:translateY(-3px) rotate(270deg)}
  100%{transform:translateY(0) rotate(360deg)}
}
.cat:nth-child(odd){animation-direction:reverse}
.cat:nth-child(3n){animation-duration:18s}
.cat:nth-child(5n){animation-duration:14s}
.cat:hover {
  transform:scale(1.1) rotate(5deg) translateY(-4px)!important;
  z-index:50;box-shadow:0 12px 30px rgba(0,0,0,0.6)
}
.cat.collected {
  opacity:0.15;transform:scale(0.45) translateY(-8px);
  pointer-events:none;animation:collectedPulse 2s infinite;
  box-shadow:0 0 15px rgba(255,215,0,0.6);border-color:rgba(255,215,0,0.5)
}
@keyframes collectedPulse {
  0%,100%{opacity:0.15;box-shadow:0 0 15px rgba(255,215,0,0.6)}
  50%{opacity:0.25;box-shadow:0 0 25px rgba(255,215,0,0.9)}
}

.message {
  position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
  background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);
  padding:20px;border-radius:20px;box-shadow:0 15px 50px rgba(0,0,0,0.4);
  text-align:center;font-size:17px;max-width:380px;font-weight:500;
  border:2px solid rgba(255,255,255,0.8);z-index:200;
  animation:fadeInOut 3.5s forwards;
  pointer-events:none;
  user-select: none;
}
@keyframes fadeInOut {
  0%{opacity:0;transform:translate(-50%,-50%) scale(0.9)}
  20%{opacity:1;transform:translate(-50%,-50%) scale(1)}
  80%{opacity:1;transform:translate(-50%,-50%) scale(1)}
  100%{opacity:0;transform:translate(-50%,-30%) scale(1.05)}
}

.collected-count, .collected-list {
  pointer-events:none;
}
.collected-count {
  position:fixed;bottom:12px;right:12px;background:rgba(255,255,255,0.15);
  backdrop-filter:blur(15px);padding:10px 14px;border-radius:16px;
  font-size:14px;font-weight:600;color:#fff;box-shadow:0 6px 20px rgba(0,0,0,0.3);
  z-index:100;border:1px solid rgba(255,255,255,0.2);min-width:100px;
  text-align:center;user-select: none;
}
.collected-list {
  position:fixed;bottom:40px;left:12px;background:rgba(255,255,255,0.15);
  backdrop-filter:blur(15px);padding:10px 14px;border-radius:16px;
  font-size:13px;font-weight:600;color:#fff;box-shadow:0 6px 20px rgba(0,0,0,0.3);
  z-index:100;max-width:240px;max-height:95px;overflow-y:auto;
  border:1px solid rgba(255,255,255,0.2);user-select: none;
}
.collected-list .item {
  display:inline-block;margin:1px 2px;padding:3px 7px;background:rgba(255,255,255,0.3);
  border-radius:10px;border:1px solid rgba(255,255,255,0.5);color:#fff;
  font-size:12px;font-weight:700;margin-bottom:2px;
  box-shadow:0 1px 4px rgba(0,0,0,0.2);animation:popIn 0.3s ease-out
}
@keyframes popIn{0%{transform:scale(0)}100%{transform:scale(1)}}

.hearts{position:fixed;pointer-events:none;font-size:16px;z-index:150;animation:floatHearts 3s forwards}
@keyframes floatHearts{0%{opacity:1;transform:translateY(0) scale(0.8) rotate(0deg)}50%{transform:translateY(-50px) scale(1.2) rotate(180deg)}100%{opacity:0;transform:translateY(-120px) scale(1.5) rotate(360deg)}}

.sparkles {
  position:fixed;pointer-events:none;font-size:14px;z-index:160;
  color:#ffd700;text-shadow:0 0 8px rgba(255,215,0,0.8);
  animation:sparkleFloat 4s forwards
}
@keyframes sparkleFloat {
  0%{opacity:0;transform:translateY(0) scale(0) rotate(0deg)}
  10%{opacity:1;transform:translateY(-10px) scale(1) rotate(90deg)}
  90%{opacity:1;transform:translateY(-80px) scale(1.2) rotate(270deg)}
  100%{opacity:0;transform:translateY(-100px) scale(1.5) rotate(360deg)}
}

.love-trail {
  position:fixed;pointer-events:none;font-size:20px;z-index:155;
  color:#ff69b4;text-shadow:0 0 10px rgba(255,105,180,0.8);
  animation:loveTrail 5s forwards
}
@keyframes loveTrail {
  0%{opacity:0;transform:scale(0.5) translateX(0)}
  20%{opacity:1;transform:scale(1.1) translateX(-20px)}
  80%{opacity:1;transform:scale(1.3) translateX(-60px)}
  100%{opacity:0;transform:scale(1.5) translateX(-100px)}
}

.heart-collect {
  position:fixed;top:75px;right:20px;width:16px;height:16px;
  background:#ff69b4;border-radius:50%;box-shadow:0 0 6px rgba(255,105,180,0.6);
  z-index:95;opacity:0;transition:all 0.3s ease;transform:scale(0);
  font-size:10px;line-height:16px;text-align:center;color:#fff;font-weight:bold
}
.heart-collect.active{opacity:1;transform:scale(1);animation:heartPulse 1.2s infinite}

@keyframes heartPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.4)}}

.winmsg {
  position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
  background:linear-gradient(135deg,#fff8e1 0%,#fff3e0 100%);
  backdrop-filter:blur(25px);padding:35px;border-radius:25px;
  box-shadow:0 25px 70px rgba(0,0,0,0.6);text-align:center;font-size:16px;
  max-width:460px;border:3px solid #d4af37;z-index:300;
  animation:victoryPulse 2.5s infinite;line-height:1.5;
  pointer-events:none;
  user-select: none;
}
.winmsg::before {
  content:'üíñ';position:absolute;top:-25px;left:50%;transform:translateX(-50%);
  font-size:40px;animation:bounce 2s infinite
}
@keyframes bounce{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-10px)}}

.love-box {
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);
  width:320px;height:280px;background:linear-gradient(145deg,#ffe4e1,#fff0f5);
  border-radius:25px;box-shadow:0 30px 80px rgba(255,182,193,0.5);
  border:4px solid #ffb6c1;z-index:350;opacity:0;transition:all 1s ease;
  overflow:hidden;pointer-events:none
}
.love-box.open{transform:translate(-50%,-50%) scale(1);opacity:1}
.love-box::before {
  content:'';position:absolute;top:0;left:0;right:0;height:60px;
  background:linear-gradient(135deg,#ff69b4,#ff1493,#ff69b4);box-shadow:0 4px 20px rgba(255,105,180,0.4)
}
.love-box::after {
  content:'üíï';position:absolute;top:15px;left:50%;transform:translateX(-50%);
  font-size:28px;z-index:2;animation:boxHeartBeat 2s infinite
}
@keyframes boxHeartBeat{0%,100%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.1)}}

.love-message {
  position:absolute;bottom:25px;left:50%;transform:translateX(-50%);
  background:linear-gradient(135deg,rgba(255,248,225,0.95),rgba(255,243,224,0.9));
  padding:20px 25px;border-radius:20px;border:3px solid #ffd700;
  text-align:center;font-size:15px;font-weight:600;color:#8b4513;
  max-width:280px;box-shadow:0 10px 30px rgba(255,215,0,0.3);
  line-height:1.4;animation:msgReveal 4s 2s forwards;
  opacity:0;overflow:hidden
}
@keyframes msgReveal{0%{opacity:0;transform:translateX(-50%) translateY(20px)}100%{opacity:1;transform:translateX(-50%) translateY(0)}}

.heart-chain {
  position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;
  z-index:310;display:flex;align-items:center;justify-content:center;
  font-size:22px;opacity:0;transition:opacity 1s ease
}
.heart-chain.show{opacity:1;animation:chainFloat 6s infinite}
@keyframes chainFloat{0%,100%{transform:translateY(0) scale(1)}25%{transform:translateY(-15px) scale(1.1)}75%{transform:translateY(-5px) scale(1.05)}}

@media(max-width:768px){
  .cat{width:46px;height:46px;font-size:16px}
  .cat span{font-size:11px!important}
  .header{font-size:14px;padding:8px 18px}
  .winmsg{padding:25px;font-size:15px;max-width:90vw}
  .collected-list{bottom:36px;left:8px;font-size:12px}
  .collected-count{bottom:8px;right:8px}
  .love-box{width:280px;height:240px}
  .heart-lock{top:15px;right:15px;width:42px;height:42px;font-size:20px}
}
</style>
</head>
<body>
<div class="header">–ö–æ—Ç—ã –ú–µ–Ω–¥–µ–ª–µ–µ–≤–∞ üíï –ö–ª–∏–∫–∞–π –ø–æ –ø–æ—Ä—è–¥–∫—É <span id="collected">0/15</span></div>
<div class="collected-count">H‚ÜíHe‚ÜíLi‚ÜíBe‚ÜíB‚ÜíC‚ÜíN‚ÜíO‚ÜíF‚ÜíNe‚ÜíNa‚ÜíMg‚ÜíAl‚ÜíSi‚ÜíP</div>
<div class="collected-list">–°–æ–±—Ä–∞–Ω–æ: <span id="collectedItems"></span></div>
<div class="message" id="msg"><div id="msgText">–ù–∞—á–∏–Ω–∞–π —Å H</div></div>

<!-- –ó–∞–º–æ—á–µ–∫ –ª—é–±–≤–∏ -->
<div class="heart-lock" id="heartLock">üîí</div>

<!-- –°–µ—Ä–¥–µ—á–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
<div id="progressContainer"></div>

<!-- –®–∫–∞—Ç—É–ª–∫–∞ –ª—é–±–≤–∏ -->
<div class="love-box" id="loveBox">
  <div class="love-message" id="loveMsg">
    –¢—ã —Å–æ–±—Ä–∞–ª–∞ –≤—Å–µ —Å–µ—Ä–¥–µ—á–∫–∏! üíñ –¢–µ–ø–µ—Ä—å –Ω–∞—à –∑–∞–º–æ—á–µ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è... –Ø –≤—Å–µ–≥–¥–∞ –±—É–¥—É —Å —Ç–æ–±–æ–π üíï
  </div>
</div>

<!-- –¶–µ–ø–æ—á–∫–∞ —Å–µ—Ä–¥–µ—á–µ–∫ -->
<div class="heart-chain" id="heartChain">üíïüíñüíïüíóüíïüíñüíï</div>

<div class="winmsg" id="winmsg" style="display:none">
  <div class="final-phrase">"–ù–µ –æ–±–∏–∂–∞–π—Å—è, –Ω–æ —Ç—ã –Ω–µ –ø—Ä–∞–≤–∞, –≤ —Ç–æ–º, —á—Ç–æ –º—ã –∏–¥–µ–º —Ä–∞–∑–Ω—ã–º–∏ –ø—É—Ç—è–º–∏, —ç—Ç–æ –Ω–µ–ø—Ä–∞–≤–¥–∞, —Ç—ã - –º–æ–π –ø—É—Ç—å –∏ —ç—Ç–∏–º –ø—É—Ç–µ–º —è –±—É–¥—É –∏–¥—Ç–∏ –≤—Å—é –∂–∏–∑–Ω—å"</div>
  <div class="final-phrase">"–Ø –¥–∞–ª–µ–∫–æ –Ω–µ –¥—É—Ä–∞–∫, –¥–∞–≤–∞–π –ø–æ–ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑"</div>
  <div class="final-phrase">"–Ø —Å—Ç–∞–Ω—É –ª—É—á—à–∏–º –≤ —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö, –ø—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä—å –º–Ω–µ —Å–Ω–æ–≤–∞."</div>
</div>

<script>
const elements=['H','He','Li','Be','B','C','N','O','F','Ne','Na','Mg','Al','Si','P'];
const colors=['#e91e63','#4db6ac','#2196f3','#ffeb3b','#ff9800','#f44336','#9c27b0','#cddc39','#e91e63','#ffeb3b','#f44336','#26a69a','#26c6da','#3f51b5','#9e9e9e'];

const compliments = [
  '¬´–°–º–æ—Ç—Ä–∏, –∫–∞–∫–∞—è –¥–æ—Ä–æ–≥–∞ –∑–∞ –Ω–∞–º–∏‚Ä¶¬ª',
  '¬´–ù–∞—Å –Ω–µ —Ä–∞–∑–ª–µ–π –≤–æ–¥–æ–π, –∏ —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤—Ä–µ–º–µ–Ω–µ–º¬ª',
  '¬´–¢—ã ‚Äî –º–æ–π —Å–∞–º—ã–π –≥–ª–∞–≤–Ω—ã–π —á–µ–ª–æ–≤–µ–∫. –ë–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤¬ª',
  '¬´–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∂–¥–∞—Ç—å –±—É—Ä—é, –¥–µ—Ä–∂–∞—Å—å –∑–∞ —Ä—É–∫–∏¬ª',
  '¬´–ú—ã –Ω–µ –∑—Ä—è –ø—Ä–æ—à–ª–∏ —á–µ—Ä–µ–∑ —Å—Ç–æ–ª—å–∫–æ–µ, —á—Ç–æ–±—ã —Å–¥–∞—Ç—å—Å—è —Å–µ–π—á–∞—Å¬ª',
  '¬´–¢–µ—Ä–ø–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å. –≠—Ç–æ –Ω–∞—à–∞ –æ–±—â–∞—è —Å–∏–ª–∞ —Å–µ–π—á–∞—Å¬ª',
  '¬´–Ø –ø–æ–º–Ω—é, –∫–∞–∫ –º—ã —Å–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –∏ —Å —Ö—É–¥—à–∏–º. –°–ø—Ä–∞–≤–∏–º—Å—è –∏ —Å —ç—Ç–∏–º¬ª',
  '¬´–¢—ã –¥–ª—è –º–µ–Ω—è ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –ª—é–±–∏–º–∞—è. –¢—ã ‚Äî –º–æ–π —Å–æ—é–∑–Ω–∏–∫¬ª',
  '¬´–°–∞–º—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ —Ä–∞—Å—Å–≤–µ—Ç—ã –±—ã–≤–∞—é—Ç –ø–æ—Å–ª–µ —Å–∞–º—ã—Ö —Ç—ë–º–Ω—ã—Ö –Ω–æ—á–µ–π¬ª',
  '¬´–ú—ã –º–æ–∂–µ–º –¥–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥—É –≤—Ä–µ–º—è, –Ω–æ –Ω–µ –æ—Ç—Å—Ç—É–ø–∏–º¬ª',
  '¬´–ú–Ω–µ –Ω—É–∂–Ω–∞ —Ç—ã –≤ –º–æ—ë–º –±—É–¥—É—â–µ–º. –ü–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π –ø—Ä–æ–¥–µ—Ä–∂–∏–º—Å—è¬ª',
  '¬´–ù–∞—à –æ–±—â–∏–π ¬´—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç¬ª —Å–ª–∏—à–∫–æ–º –∫—Ä–µ–ø–æ–∫, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–≥–ª–æ –ø–æ–∫–æ–ª–µ–±–∞—Ç—å¬ª',
  '¬´–ò–Ω–æ–≥–¥–∞ –∂–∏–∑–Ω—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Å –Ω–∞ –ø—Ä–æ—á–Ω–æ—Å—Ç—å. –î–∞–≤–∞ÃÅ–π –¥–æ–∫–∞–∂–µ–º, —á—Ç–æ –º—ã –µ—ë –≤—ã–¥–µ—Ä–∂–∏–º¬ª',
  '¬´–Ø –≤–µ—Ä—é –≤ –Ω–∞—Å. –î–∞–∂–µ –∫–æ–≥–¥–∞ —Ç—Ä—É–¥–Ω–æ. –û—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ —Ç—Ä—É–¥–Ω–æ¬ª',
  '¬´–ú—ã —Å–æ–∑–¥–∞–Ω—ã –¥—Ä—É–≥ –¥–ª—è –¥—Ä—É–≥–∞, –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –≤ —ç—Ç–æ –ø–æ–≤–µ—Ä–∏—Ç—å¬ª'
];

let collected = [];
let usedCompliments = [];
let heartHearts = [];

function shuffleArray(array) {
  const shuffled = [...array];
  for(let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }
  return shuffled;
}

function getRandomCompliment() {
  const available = compliments.filter((_, i) => !usedCompliments.includes(i));
  if (available.length === 0) usedCompliments = [];
  const idx = Math.floor(Math.random() * available.length);
  const complimentIdx = compliments.indexOf(available[idx]);
  usedCompliments.push(complimentIdx);
  return available[idx];
}

function createHeartProgress() {
  const container = document.getElementById('progressContainer');
  container.innerHTML = '';
  
  for(let i = 0; i < 15; i++) {
    const heart = document.createElement('div');
    heart.className = 'heart-collect';
    if(i < collected.length) {
      heart.classList.add('active');
      heart.textContent = 'üíñ';
    }
    heart.style.left = `${75 + (i * 5.5)}px`;
    heart.style.top = `${15 + (i % 4) * 4}px`;
    container.appendChild(heart);
    heartHearts[i] = heart;
  }
}

function updateCollectedDisplay() {
  const itemsSpan = document.getElementById('collectedItems');
  const collectedSpan = document.getElementById('collected');
  
  itemsSpan.innerHTML = collected.map(el => `<span class="item">${el}</span>`).join('');
  collectedSpan.textContent = `${collected.length}/15`;
  
  // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–µ—Ä–¥–µ—á–∫–æ
  if(heartHearts[collected.length - 1]) {
    heartHearts[collected.length - 1].classList.add('active');
    heartHearts[collected.length - 1].textContent = 'üíñ';
  }
  
  // –ó–∞–º–æ—á–µ–∫ –æ–∂–∏–≤–∞–µ—Ç
  const lock = document.getElementById('heartLock');
  if(collected.length > 0) {
    lock.classList.add('collected');
    lock.textContent = 'üíï';
  }
}

function createSparkle(x, y) {
  const sparkle = document.createElement('div');
  sparkle.className = 'sparkles';
  sparkle.innerHTML = ['‚ú®','‚≠ê','üí´','üåü'][Math.floor(Math.random()*4)];
  sparkle.style.left = x + 'px';
  sparkle.style.top = y + 'px';
  document.body.appendChild(sparkle);
  setTimeout(() => sparkle.remove(), 4000);
}

function createLoveTrail(x, y) {
  const trail = document.createElement('div');
  trail.className = 'love-trail';
  trail.innerHTML = ['üíï','üíñ','üíó','üíò','üíù'][Math.floor(Math.random()*5)];
  trail.style.left = x + 'px';
  trail.style.top = y + 'px';
  document.body.appendChild(trail);
  setTimeout(() => trail.remove(), 5000);
}

function openLoveBox() {
  const box = document.getElementById('loveBox');
  const chain = document.getElementById('heartChain');
  const lock = document.getElementById('heartLock');
  
  setTimeout(() => {
    chain.classList.add('show');
  }, 500);
  
  setTimeout(() => {
    box.classList.add('open');
    lock.innerHTML = 'üíñ‚ú®';
  }, 1500);
}

function createCat(el) {
  const cat = document.createElement('div');
  cat.className = 'cat';
  
  const x = 12 + (Math.random() * 76);
  const y = 18 + (Math.random() * 54);
  cat.style.left = `${x}vw`;
  cat.style.top = `${y}vh`;
  
  const rect = cat.getBoundingClientRect();
  const centerX = (rect.left + rect.width/2);
  const centerY = (rect.top + rect.height/2);
  
  const i = elements.indexOf(el);
  cat.style.background = `linear-gradient(135deg,${colors[i]},${colors[i]}88)`;
  cat.innerHTML = `üê±<br><span>${el}</span>`;
  
  cat.addEventListener('click', function handleCatClick(e) {
    e.preventDefault();
    e.stopPropagation();
    
    if (collected.includes(el)) {
      showCompliment('–£–∂–µ —Å–æ–±—Ä–∞–Ω üíî');
      return;
    }
    
    const next = collected.length;
    if (el === elements[next]) {
      collected.push(el);
      cat.classList.add('collected');
      updateCollectedDisplay();
      
      createSparkle(e.clientX, e.clientY);
      createLoveTrail(e.clientX - 30, e.clientY);
      
      showCompliment(getRandomCompliment());
      createHearts();
      
      if (collected.length === 15) {
        setTimeout(() => {
          document.getElementById('winmsg').style.display = 'block';
          openLoveBox();
        }, 1200);
      }
    } else {
      showCompliment(elements[next]);
    }
  }, { passive: false });
  
  return cat;
}

function initCats() {
  const oldCats = document.querySelectorAll('.cat');
  oldCats.forEach(cat => cat.remove());
  
  shuffleArray([...elements]).forEach(el => {
    document.body.appendChild(createCat(el));
  });
}

function showCompliment(text) {
  const msgText = document.getElementById('msgText');
  const msg = document.getElementById('msg');
  
  msgText.textContent = text;
  msg.style.animation = 'none';
  msg.offsetHeight;
  msg.style.animation = 'fadeInOut 3.5s forwards';
}

function createHearts() {
  for(let i = 0; i < 20; i++) {
    setTimeout(() => {
      const h = document.createElement('div');
      h.className = 'hearts';
      h.innerHTML = ['üíñ','üíï','üíó','üíò','üíù'][Math.floor(Math.random()*5)];
      h.style.left = (Math.random() * 90 + 5) + 'vw';
      h.style.top = '85vh';
      h.style.fontSize = (12 + Math.random()*8) + 'px';
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 3500);
    }, 30 * i);
  }
}

document.addEventListener('DOMContentLoaded', function() {
  initCats();
  createHeartProgress();
});
</script>
</body>
</html>
